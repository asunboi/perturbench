# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - override /model: cpa
  - override /data: sciplex3
  - override /trainer: default
  - override /callbacks: default

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

# tags: ["sciplex3", "vq_forward_example"]

seed: 245

trainer:
  min_epochs: 5
  max_epochs: 500
  log_every_n_steps: 10

model:
  lr: 0.00007208558788012054
  wd: 1.2280838320404273e-07
  n_latent: 128 
  hidden_dim: 256
  n_layers_encoder: 4
  n_layers_decoder: 4 
  n_layers_pert_emb: 4
  variational: True
  adv_classifier_n_layers: 3
  adv_classifier_hidden_dim: 256
  dropout: 0.2
  kl_weight: 0.1
  adv_weight: 1.0
  penalty_weight: 63.44954424334805
  adv_steps: 3


data:
  evaluation:
    split_value_to_evaluate: test
  batch_size: 12000
  num_workers: 12
  add_controls: False